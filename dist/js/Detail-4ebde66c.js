var y=(h,f,s)=>new Promise((l,_)=>{var v=d=>{try{m(s.next(d))}catch(n){_(n)}},c=d=>{try{m(s.throw(d))}catch(n){_(n)}},m=d=>d.done?l(d.value):Promise.resolve(d.value).then(v,c);m((s=s.apply(h,f)).next())});import{d as D,r as g,l as k,c as C,g as i,b as e,w as a,G as N,M as I,E as M,f as p,o as S,h as t,t as u,i as x,_ as w}from"./index-0d744b35.js";import{T as B}from"./TaxInvoiceUpload-5376d54e.js";import{G as E}from"./GeneralFileUpload-88415f7b.js";const G={class:"detail-page"},R={class:"page-header"},T=D({__name:"Detail",setup(h){const f=N(),s=String(f.params.id||""),l=g({}),_=g([]),v=g([]),c=d=>d.toLocaleString("zh-CN",{minimumFractionDigits:2});return k(()=>y(this,null,function*(){var d,n;try{const r=yield I.getReceivableDetail(s);l.value=(r==null?void 0:r.data)||r,_.value=((d=l.value)==null?void 0:d.taxAttachments)||[],v.value=((n=l.value)==null?void 0:n.otherAttachments)||[]}catch(r){M.error("加载详情失败")}})),(d,n)=>{const r=p("el-button"),o=p("el-descriptions-item"),A=p("el-descriptions"),b=p("el-card");return S(),C("div",G,[i("div",R,[e(r,{onClick:n[0]||(n[0]=V=>d.$router.back())},{default:a(()=>[...n[1]||(n[1]=[t("返回",-1)])]),_:1}),n[2]||(n[2]=i("h3",null,"应收详情",-1))]),e(b,{class:"mb-4"},{default:a(()=>[e(A,{column:2,border:""},{default:a(()=>[e(o,{label:"出货日期"},{default:a(()=>[t(u(l.value.outboundDate),1)]),_:1}),e(o,{label:"货单号"},{default:a(()=>[t(u(l.value.outboundNo),1)]),_:1}),e(o,{label:"编号"},{default:a(()=>[t(u(l.value.code),1)]),_:1}),e(o,{label:"客户"},{default:a(()=>[t(u(l.value.customer),1)]),_:1}),e(o,{label:"品名规格"},{default:a(()=>[t(u(l.value.productSpec),1)]),_:1}),e(o,{label:"成分"},{default:a(()=>[t(u(l.value.composition),1)]),_:1}),e(o,{label:"颜色"},{default:a(()=>[t(u(l.value.color),1)]),_:1}),e(o,{label:"工艺"},{default:a(()=>[t(u(l.value.craft),1)]),_:1}),e(o,{label:"克重"},{default:a(()=>[t(u(l.value.fabricWeight),1)]),_:1}),e(o,{label:"客户备注"},{default:a(()=>[t(u(l.value.customerRemark),1)]),_:1}),e(o,{label:"匹数"},{default:a(()=>[t(u(l.value.pieceCount),1)]),_:1}),e(o,{label:"重量"},{default:a(()=>[t(u(l.value.totalWeight),1)]),_:1}),e(o,{label:"单价"},{default:a(()=>[t(u(l.value.unitPrice),1)]),_:1}),e(o,{label:"应收金额"},{default:a(()=>[t("¥"+u(c(l.value.receivableAmount||0)),1)]),_:1}),e(o,{label:"已收金额"},{default:a(()=>[t("¥"+u(c(l.value.receivedAmount||0)),1)]),_:1}),e(o,{label:"税票金额"},{default:a(()=>[t("¥"+u(c(l.value.taxInvoiceAmount||0)),1)]),_:1}),e(o,{label:"未收金额"},{default:a(()=>[t("¥"+u(c(l.value.unpaidAmount||0)),1)]),_:1}),e(o,{label:"备注",span:2},{default:a(()=>[t(u(l.value.remark),1)]),_:1})]),_:1})]),_:1}),e(b,{class:"mb-4"},{header:a(()=>[...n[3]||(n[3]=[i("div",{class:"card-header"},[i("span",null,"税票附件")],-1)])]),default:a(()=>[e(B,{"model-value":_.value,"record-type":"receivable","record-id":x(s),readonly:!0},null,8,["model-value","record-id"])]),_:1}),e(b,null,{header:a(()=>[...n[4]||(n[4]=[i("div",{class:"card-header"},[i("span",null,"其他附件")],-1)])]),default:a(()=>[e(E,{"model-value":v.value,"record-type":"receivable","record-id":x(s),readonly:!0},null,8,["model-value","record-id"])]),_:1})])}}});const $=w(T,[["__scopeId","data-v-ce1c3a5c"]]);export{$ as default};
