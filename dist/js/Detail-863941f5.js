var B=(C,x,_)=>new Promise((l,m)=>{var g=c=>{try{v(_.next(c))}catch(d){m(d)}},k=c=>{try{v(_.throw(c))}catch(d){m(d)}},v=c=>c.done?l(c.value):Promise.resolve(c.value).then(g,k);v((_=_.apply(C,x)).next())});import{d as E,r as F,l as M,c as h,g as f,b as e,w as t,G as T,e as z,x as L,E as P,f as i,o as N,h as o,t as s,H as R,I as q,v as I,_ as G}from"./index-0d744b35.js";import{T as H}from"./TaxInvoiceUpload-5376d54e.js";const K={class:"outbound-detail"},O={class:"page-header"},U={key:0},W={key:0,class:"detail-grid"},j={class:"detail-summary"},J=E({__name:"Detail",setup(C){const x=T(),_=z(),l=F(null),m=F([]),g=F("0.00"),k=d=>d.toLocaleString("zh-CN",{minimumFractionDigits:2}),v=()=>{_.push("/inventory/out")},c=()=>B(this,null,function*(){var d;try{const u=x.params.id,b=yield L.getOutboundDetail(u);l.value=b;const n=(d=b==null?void 0:b.outboundDetails)!=null?d:[],p=Array.isArray(n)?n.map(r=>Number(r)):[],y=[];for(let r=0;r<p.length;r+=10)y.push(p.slice(r,r+10));m.value=y;const w=p.reduce((r,D)=>r+Number(D||0),0);g.value=w.toFixed(2)}catch(u){P.error("加载详情失败")}});return M(()=>{c()}),(d,u)=>{const b=i("el-button"),n=i("el-descriptions-item"),p=i("el-descriptions"),y=i("el-form-item"),w=i("el-divider"),r=i("el-table-column"),D=i("el-table"),S=i("el-card");return N(),h("div",K,[f("div",O,[e(b,{class:"back-btn",onClick:v},{default:t(()=>[...u[0]||(u[0]=[o("返回",-1)])]),_:1}),u[1]||(u[1]=f("h1",{class:"page-title"},"出库详情",-1))]),e(S,null,{default:t(()=>[l.value?(N(),h("div",U,[e(p,{column:2,border:""},{default:t(()=>[e(n,{label:"出货日期"},{default:t(()=>[o(s(l.value.outboundDate),1)]),_:1}),e(n,{label:"货单号"},{default:t(()=>[o(s(l.value.outboundNo),1)]),_:1}),e(n,{label:"编号"},{default:t(()=>[o(s(l.value.deliveryNo),1)]),_:1}),e(n,{label:"客户"},{default:t(()=>[o(s(l.value.customer),1)]),_:1}),e(n,{label:"品名规格"},{default:t(()=>{var a;return[o(s((a=l.value.colorFabric)==null?void 0:a.productSpec),1)]}),_:1}),e(n,{label:"成分"},{default:t(()=>{var a;return[o(s((a=l.value.colorFabric)==null?void 0:a.composition),1)]}),_:1}),e(n,{label:"克重"},{default:t(()=>{var a;return[o(s((a=l.value.colorFabric)==null?void 0:a.weight)+" g/m²",1)]}),_:1}),e(n,{label:"全幅宽"},{default:t(()=>{var a;return[o(s((a=l.value.colorFabric)==null?void 0:a.width)+" cm",1)]}),_:1}),e(n,{label:"颜色"},{default:t(()=>{var a;return[o(s((a=l.value.colorFabric)==null?void 0:a.color),1)]}),_:1}),e(n,{label:"色号"},{default:t(()=>{var a;return[o(s((a=l.value.colorFabric)==null?void 0:a.colorNo),1)]}),_:1}),e(n,{label:"匹数"},{default:t(()=>[o(s(l.value.quantity),1)]),_:1}),e(n,{label:"重量(kg)"},{default:t(()=>[o(s(Number(l.value.weightKg)),1)]),_:1}),e(n,{label:"单价(元)"},{default:t(()=>[o(s(Number(l.value.unitPrice)),1)]),_:1}),e(n,{label:"金额(元)"},{default:t(()=>[o("¥"+s(k(Number(l.value.amount))),1)]),_:1}),e(n,{label:"签收人"},{default:t(()=>[o(s(l.value.consignee),1)]),_:1})]),_:1}),e(y,{label:"附件","label-width":120,class:"tax-upload-container"},{default:t(()=>[f("div",null,[e(H,{"model-value":l.value.taxAttachments||[],"record-type":"outbound","record-id":l.value.id,readonly:""},null,8,["model-value","record-id"])])]),_:1}),e(w,null,{default:t(()=>[...u[2]||(u[2]=[o("出库明细",-1)])]),_:1}),m.value.length?(N(),h("div",W,[e(D,{data:m.value,border:"",size:"small",style:{width:"100%"}},{default:t(()=>[(N(),h(R,null,q(10,a=>e(r,{key:a,label:String(a),align:"center"},{default:t(({row:V})=>{var A;return[o(s((A=V[a-1])!=null?A:""),1)]}),_:2},1032,["label"])),64))]),_:1},8,["data"]),f("div",j,[u[3]||(u[3]=o(" 合计重量(kg)：",-1)),f("strong",null,s(g.value),1)])])):I("",!0)])):I("",!0)]),_:1})])}}});const Z=G(J,[["__scopeId","data-v-c7c3d3f6"]]);export{Z as default};
