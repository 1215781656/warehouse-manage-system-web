import{d as S,k as V,r as C,F as D,l as k,f as p,z as b,o,q as u,w as m,c as _,I as B,H as M,B as T,h as N,t as z,v as F,_ as I}from"./index-0d744b35.js";import{u as R}from"./options-9fb748fa.js";const j={style:{width:"100%","text-align":"center",color:"#999","font-size":"12px"}},E=S({__name:"index",props:{modelValue:{},type:{},placeholder:{},allowCreate:{type:Boolean}},emits:["update:modelValue"],setup(s,{emit:f}){const l=s,v=f,e=R(),a=V(()=>{switch(l.type){case"supplier":return e.supplierState;case"productSpec":return e.productSpecState;case"composition":return e.compositionState;case"customer":return e.customerState;default:return e.supplierState}}),r=C("");let n=null;const h=t=>{t&&(r.value=t,n&&clearTimeout(n),n=setTimeout(()=>{e.loadData(l.type,t,!0)},500))},i=()=>{r.value="",e.loadData(l.type,"",!0)},y=()=>{!a.value.loading&&a.value.hasMore&&e.loadData(l.type,r.value,!1)},g=t=>{v("update:modelValue",t)};return D(()=>l.modelValue,t=>{t||i()}),k(()=>{a.value.list.length===0&&e.loadData(l.type,"",!1)}),(t,H)=>{const d=p("el-option"),x=p("el-select"),w=b("load-more");return o(),u(x,{"model-value":s.modelValue,"onUpdate:modelValue":g,filterable:"",remote:"","remote-method":h,loading:a.value.loading,clearable:"",placeholder:s.placeholder||"请输入关键词搜索","allow-create":s.allowCreate,"default-first-option":"",onClear:i,style:{width:"100%"}},{default:m(()=>[(o(!0),_(M,null,B(a.value.list,c=>(o(),u(d,{key:c,label:c,value:c},null,8,["label","value"]))),128)),a.value.hasMore?(o(),u(d,{key:0,value:"__loading__",disabled:"",style:{height:"30px",display:"flex","justify-content":"center","align-items":"center"}},{default:m(()=>[T((o(),_("div",j,[N(z(a.value.loading?"加载中...":"加载更多"),1)])),[[w,y]])]),_:1})):F("",!0)]),_:1},8,["model-value","loading","placeholder","allow-create"])}}});const Q=I(E,[["__scopeId","data-v-048cf511"]]);export{Q as R};
